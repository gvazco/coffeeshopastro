---
import Layout from "@/layouts/Layout.astro";
import BlogPosts from "@/components/blog/BlogPosts.astro";
import { BaseWPSchema } from "@/types";
const url = `${import.meta.env.API_URL}/pages?slug=blog`;
const response = await fetch(url);
const json = await response.json();
const data = BaseWPSchema.parse(json[0]);
console.log(data);
---

<Layout
  title="Blog"
  subtitle={data.acf.subtitle}
  bgImage={data.featured_images.full.url}
>
  <div
    class="text-xl space-y-3 mt-10 lg:mt-0"
    set:html={data.content.rendered}
  />

  <BlogPosts />
</Layout>
